!function(){"use strict";var t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e=window.jQuery,n=t.n(e);const a=n().noConflict();a.fn.crsgCategorySlideshow=function(t){return this.each((function(){const e=this,n=a(this);function o(t,e){return void 0===e?n.attr(t):n.attr(t,e)}function r(t,n){return void 0===n?a.data(e,t):a.data(e,t,n)}const i=o("data-category"),s=1e3*o("data-timeout");if(r("lastswap",null),window.cancelAnimationFrame(r("anim")),n.html(a("<div/>",{class:"crsg-category_slideshow-loading"})),i)return n.data("loading")&&n.data("loading").abort&&n.data("loading").abort(),n.data("loading",a.ajax({url:t,data:{action:"get_media_by_category",category:i},type:"POST",dataType:"jsonp"}).done((function(t){const e=[];if(t.forEach((function(t,n){if(t.hasOwnProperty("guid"))try{const o=new URL(t.guid).pathname;e.push(a("<img/>",{alt:t.hasOwnProperty("post_title")?t.post_title:"",src:o,class:n<1?"current":""}))}catch(e){console.warn("Category Slideshow","Chosen category contains an invalid image",t)}})),e.length){const t=a("<div/>");t.append(e),n.html(t),r("anim",window.requestAnimationFrame(c))}else n.html('<div class="crsg-category_slideshow-error">No images found.</div>')}))),this;function c(){if(r("lastswap")||r("lastswap",(new Date).getTime()),(new Date).getTime()-r("lastswap")>s){const t=n.find(".current");let e=t.next("img");e.length||(e=t.siblings("img").eq(0)),t.removeClass("current"),e.addClass("current"),r("lastswap",(new Date).getTime())}r("anim",window.requestAnimationFrame(c))}n.html('<div class="crsg-category_slideshow-error">No category defined.</div>')}))};const o=n().noConflict();window.crsg_category_slideshow&&window.crsg_category_slideshow.ajaxUrl?o((function(){o(".wp-block-cumulus-gutenberg-category-slideshow").crsgCategorySlideshow(window.crsg_category_slideshow.ajaxUrl)})):console.error("Category Slideshow","Could not find ajaxurl")}();