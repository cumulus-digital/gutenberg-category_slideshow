(()=>{"use strict";var t={n:a=>{var e=a&&a.__esModule?()=>a.default:()=>a;return t.d(e,{a:e}),e},d:(a,e)=>{for(var o in e)t.o(e,o)&&!t.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a)};const a=window.jQuery;var e=t.n(a);const o=e().noConflict();o.fn.crsgCategorySlideshow=function(t){return this.each((function(){const a=this,e=o(this);function n(t,a){return void 0===a?e.attr(t):e.attr(t,a)}function r(t,e){return void 0===e?o.data(a,t):o.data(a,t,e)}const i=n("data-category"),s=1e3*n("data-timeout");if(r("lastswap",null),window.cancelAnimationFrame(r("anim")),e.html(o("<div/>",{class:"crsg-category_slideshow-loading"})),i)return e.data("loading")&&e.data("loading").abort&&e.data("loading").abort(),e.data("loading",o.ajax({url:t,data:{action:"get_media_by_category",category:i},type:"POST",dataType:"jsonp"}).done((function(t){const a=[];if(t.forEach((function(t,e){if(t.hasOwnProperty("guid"))try{const n=new URL(t.guid).pathname;a.push(o("<img/>",{alt:t.hasOwnProperty("post_title")?t.post_title:"",src:n,class:e<1?"current":""}))}catch(a){console.warn("Category Slideshow","Chosen category contains an invalid image",t)}})),a.length){const t=o("<div/>");t.append(a),e.html(t),r("anim",window.requestAnimationFrame(c))}else e.html('<div class="crsg-category_slideshow-error">No images found.</div>')}))),this;function c(){if(r("lastswap")||r("lastswap",(new Date).getTime()),(new Date).getTime()-r("lastswap")>s){const t=e.find(".current");let a=t.next("img");a.length||(a=t.siblings("img").eq(0)),t.removeClass("current"),a.addClass("current"),r("lastswap",(new Date).getTime())}r("anim",window.requestAnimationFrame(c))}e.html('<div class="crsg-category_slideshow-error">No category defined.</div>')}))};const n=e().noConflict();window.crsg_category_slideshow&&window.crsg_category_slideshow.ajaxUrl?n((function(){n(".wp-block-cumulus-gutenberg-category-slideshow").crsgCategorySlideshow(window.crsg_category_slideshow.ajaxUrl)})):console.error("Category Slideshow","Could not find ajaxurl")})();