!function(){"use strict";var t={n:function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},d:function(n,e){for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},o:function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}},n=window.jQuery,e=t.n(n);const a=e().noConflict();a.fn.crsgCategorySlideshow=function(t){return this.each((function(){const n=this,e=a(this);function o(t,n){return void 0===n?e.attr(t):e.attr(t,n)}function r(t,e){return void 0===e?a.data(n,t):a.data(n,t,e)}const i=o("data-category"),s=1e3*o("data-timeout");if(r("lastswap",null),window.cancelAnimationFrame(r("anim")),e.html(a("<div/>",{class:"crsg-category_slideshow-loading"})),i)return e.data("loading")&&e.data("loading").abort&&e.data("loading").abort(),e.data("loading",a.ajax({url:t,data:{action:"get_media_by_category",category:i},type:"POST",dataType:"jsonp"}).done((function(t){const n=[];if(t.forEach((function(t,e){if(t.hasOwnProperty("guid"))try{const o=new URL(t.guid).pathname;n.push(a("<img/>",{src:o,class:e<1?"current":""}))}catch(n){console.warn("Category Slideshow","Chosen category contains an invalid image",t)}})),n.length){const t=a("<div/>");t.append(n),e.html(t),r("anim",window.requestAnimationFrame(c))}else e.html('<div class="crsg-category_slideshow-error">No images found.</div>')}))),this;function c(){if(r("lastswap")||r("lastswap",(new Date).getTime()),(new Date).getTime()-r("lastswap")>s){const t=e.find(".current");let n=t.next("img");n.length||(n=t.siblings("img").eq(0)),t.removeClass("current"),n.addClass("current"),r("lastswap",(new Date).getTime())}r("anim",window.requestAnimationFrame(c))}e.html('<div class="crsg-category_slideshow-error">No category defined.</div>')}))};const o=e().noConflict();window.crsg_category_slideshow&&window.crsg_category_slideshow.ajaxUrl?o((function(){o(".wp-block-cumulus-gutenberg-category-slideshow").crsgCategorySlideshow(window.crsg_category_slideshow.ajaxUrl)})):console.error("Category Slideshow","Could not find ajaxurl")}();